name: ðŸ“± iOS CI/CD

on: [push, pull_request]

jobs:
  build:
    if: startsWith(github.ref, 'refs/tags/') != true
    runs-on: macOS-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Cache modules
        uses: actions/cache@v2
        with:
          path: ${{ github.workspace }}/node_modules
          key: ${{ runner.os }}-${{ hashFiles('**/yarn.lock') }}
      - name: Use Node.js
        uses: actions/setup-node@v2
        with:
          node-version: 16.x
      - name: Install Yarn Modules
        run: yarn
      - name: Install iOS Cocoa Pods
        run: pod install
        working-directory: ios
#      - name: Xcode Build
#        run: |
#          xcodebuild \
#                  -workspace ios/MultiCash.xcworkspace \
#                  -scheme MultiCash \
#                  archive \
#                  -sdk iphoneos \
#                  -configuration Debug \
#                  -archivePath $PWD/MultiCash \
#                  CODE_SIGNING_ALLOWED=NO
